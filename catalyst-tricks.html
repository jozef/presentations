<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Catalyst tricks</title>
<!-- metadata -->
<meta name="version" content="S5 1.1" />
<meta name="presdate" content="20071004" />
<meta name="author" content="Jozef Kutej"/>
<meta name="company" content="Soiton, a.s." />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<!-- <meta name="defaultView" content="outline" /> -->
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />
<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>
</head>
<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">

<!-- added by Jozef :) -->
<div id="counter" style="float: right; margin-right: 10px;">60</div> 

<h1>?, ? Nov 2007</h1>
<h2>Catalyst tricks</h2>

</div>

</div>


<div class="presentation">

<div class="slide">
<h1>Catalyst tricks</h1>
<h3>Jozef</h3>
</div>

<div class="slide">
<h1>really short intro to Catalyst</h1>
<ul>
<li><a href='http://www.catalystframework.org/'>Catalyst = MVC web framework</a></li>
<li>let's say MVC</li>
<li>in Catalyst everything = $c</li>
<li>$c->model()</li>
<li>$c->view()</li>
<li>$c->controller()</li>
<li>elegant way to have a tool organized</li>
</ul>
</div>

<div class="slide">
<h1>web request flowchart</h1>
<ol>
<li>request comes to the $c->controller('Root')->auto()</li>
<li>according to the url request come "http://my.site/the/right" controller<br/>
$c->controller('The')->auto()
</li>
<li>and the function is called $c->controller('The')->right()</li>

</ol>

</div>


<div class="slide">
<h1>Replace 'please come back later'</h1>
<ul>
<li>in debug mode the error "output" is fine, but please come back later ;)</li>
<li>the trick is to have $c->finalize_error</li>
<li>sub finalize_error {} in the MyApp.pm</li>
<li>plugin that inherits finalize_error function</li>
<li><a href='http://search.cpan.org/perldoc?Catalyst::Plugin::CustomErrorMessage'>Catalyst::Plugin::CustomErrorMessage</a></li>
</ul>
</div>

<div class="slide">
<h1>two types of errors</h1>
<ul>
<li>what we want is to have our nice header.tt + footer.tt + site.css look also for errors</li>
<li>with code/syntax errors we can call $c->view('TT')->render( ... </li>
<li>for unhadled actions like wrong url we can do<br/>
$c->response->redirect($c->uri_for('/'))<br/>
havving flash variable set</li>
</ul>
</div>

<div class="slide">
<h1>$c for scripts</h1>
<ul>
<li>Why?</li>
<li>We have a nice webapp but we what to able to use
script that will notify users about their account
expiration, some actions that they need to take,
or just start some daily data processing</li>
<li>We want to launch some action triggered by email. Same
as from web. Then all there is to do is to parse the
email and call $c->controller('The')->right($c, )</li>
<li></li>
</ul>

</div>


<!--
<div class="slide">
<h1>1st day</h1>
<p style="text-align: center;">
<img src="yapc2007/P1000163.JPG" alt="" title="My">
</p>
</div>
-->



<div class="slide">
<h1>And that's it...</h1>
<h2>Questions?</h2>
</div>


</div>

</body>
</html>
